<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bài 5</title>
</head>
<body>
<h2>Gọi món đi nào</h2>
<!--<ol>-->
<!--    <li><input type="button" value="Cafe" onclick="pick(1)"/>  : 3 USD</li>-->
<!--    <li><input type="button" value="Cam vắt" onclick="pick(2)"/>  : 4 USD</li>-->
<!--    <li><input type="button" value="Nước ép cà rốt" onclick="pick(3)"/> : 5 USD</li>-->
<!--    <li><input type="button" value="Nước ép cà chua" onclick="pick(4)"/>  : 6 USD</li>-->
<!--    <li><input type="button" value="Nước lọc" onclick="pick(5)"/> : 7 USD</li>-->
<!--    <li><input type="button" value="Nước dừa" onclick="pick(6)"/> : 8 USD</li>-->
<!--    <li><input type="button" value="Thoát gọi món" onclick="pick(7)"/></li>-->
<!--</ol>-->
<ol id="menu">
</ol>
<input type="submit" value="Gọi món" onclick="order()"/>
<p id="xuatHoaDon"></p>
<p id="tongTien"></p>

<script>
    let menuArray = ['Cafe','Cam vắt','Nước ép cà rốt','Nước ép cà chua','Nước lọc','Nước dừa']
    let arrayPosition = [1,2,3,4,5,6];
    let moneyMenu = [10000,20000,25000,20000,5000,15000];
    let total = 0;
    let bill = '';
    let menu = '';
    let menuFull = '';
    function displayMenu(){
        for(let index in menuArray){
            menu += '<li>'+menuArray[index]+'</li>'
        }
        document.getElementById('menu').innerHTML = menu;
    }
    displayMenu();

    for(let index in menuArray){
        menuFull += (parseInt(index)+1)+'. Món '+menuArray[index]+' có giá: '+moneyMenu[index]+' \n';
    }
    menuFull += 'Bấm số 7 để out gọi món nhé';

    function order(){
        let numberMenu = 0;
        while(true){
            numberMenu = parseInt(prompt(menuFull));
            if(numberMenu > 6 || numberMenu < 1 ){
                if(numberMenu ==7){
                    break;
                }else{
                    alert('Nhập đúng số có trong Menu đi nào');
                    continue;
                }
            }
            let position = arrayPosition.indexOf(numberMenu);
            if(menuArray[position] == undefined) { // khi bấm nút hủy mà kh chọn số
                break;
            }
            let soLuong = parseInt(prompt('Nhập số lượng '+menuArray[position]+' được gọi món'));
            bill += 'Món '+menuArray[position]+' số lượng: '+soLuong+' có giá: '
                +moneyMenu[position]+' VNĐ tổng là: '+moneyMenu[position]*soLuong+'<br>';
            total += moneyMenu[position]*soLuong;
        }
        document.getElementById('xuatHoaDon').innerHTML = bill;
        document.getElementById('tongTien').innerHTML = 'Tổng hóa đơn là: '+total+' VNĐ';
    }



    // let tongTien = 0;
    // let tenMon = 'Hóa đơn <br>';
    // function pick(number){
    //     if(number == 7){
    //         alert('Tổng tiền phải trả là: '+tongTien+" USD");
    //         tongTien = 0;
    //         tenMon = 'Hóa đơn <br>';
    //         document.getElementById('xuatHoaDon').innerHTML = "";
    //         document.getElementById('tongTien').innerHTML = "";
    //     }else{
    //         let inputSoLuong = parseInt(prompt('Nhập số lương'));
    //         switch (number){
    //             case 1:
    //                 tongTien += inputSoLuong*3;
    //                 tenMon += 'Cafe số lương: '+inputSoLuong+' có giá: '+inputSoLuong*3+' USD';
    //                 tenMon += '<br>';
    //                 break;
    //             case 2:
    //                 tongTien += inputSoLuong*4;
    //                 tenMon += 'Cam vắt số lương: '+inputSoLuong+' có giá: '+inputSoLuong*4+' USD';
    //                 tenMon += '<br>';
    //                 break;
    //             case 3:
    //                 tongTien += inputSoLuong*5;
    //                 tenMon += 'Nước ép cà rốt số lương: '+inputSoLuong+' có giá: '+inputSoLuong*5+' USD';
    //                 tenMon += '<br>';
    //                 break;
    //             case 4:
    //                 tongTien += inputSoLuong*6;
    //                 tenMon += 'Nước ép cà chua số lương: '+inputSoLuong+' có giá: '+inputSoLuong*6+' USD';
    //                 tenMon += '<br>';
    //                 break;
    //             case 5:
    //                 tongTien += inputSoLuong*7;
    //                 tenMon += 'Nước lọc số lương: '+inputSoLuong+' có giá: '+inputSoLuong*7+' USD';
    //                 tenMon += '<br>';
    //                 break;
    //             case 6:
    //                 tongTien += inputSoLuong*8;
    //                 tenMon += 'Nước dừa số lương: '+inputSoLuong+' có giá: '+inputSoLuong*8 +' USD';
    //                 tenMon += '<br>';
    //                 break;
    //         }
    //         document.getElementById('xuatHoaDon').innerHTML = tenMon;
    //         document.getElementById('tongTien').innerHTML = "Tổng tiền phải trả là : "+tongTien+ " USD";
    //     }
    // }

</script>
</body>
</html>